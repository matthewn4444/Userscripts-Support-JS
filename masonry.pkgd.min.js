/*!
 * Masonry PACKAGED v3.2.1
 * Cascading grid layout library
 * http://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */
(function(f){function k(){}function l(f){function d(a){a.prototype.option||(a.prototype.option=function(a){f.isPlainObject(a)&&(this.options=f.extend(!0,this.options,a))})}function a(a,d){f.fn[a]=function(p){if("string"===typeof p){for(var l=e.call(arguments,1),k=0,w=this.length;k<w;k++){var r=f.data(this[k],a);if(r)if(f.isFunction(r[p])&&"_"!==p.charAt(0)){if(r=r[p].apply(r,l),void 0!==r)return r}else b("no such method '"+p+"' for "+a+" instance");else b("cannot call methods on "+a+" prior to initialization; attempted to call '"+ p+"'")}return this}return this.each(function(){var b=f.data(this,a);b?(b.option(p),b._init()):(b=new d(this,p),f.data(this,a,b))})}}if(f){var b="undefined"===typeof console?k:function(a){console.error(a)};f.bridget=function(b,n){d(n);a(b,n)};return f.bridget}}var e=Array.prototype.slice;"function"===typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],l):"object"===typeof exports?l(require("jquery")):l(f.jQuery)})(window); (function(f){function k(d){var a=f.event;a.target=a.target||a.srcElement||d;return a}var l=document.documentElement,e=function(){};l.addEventListener?e=function(d,a,b){d.addEventListener(a,b,!1)}:l.attachEvent&&(e=function(d,a,b){d[a+b]=b.handleEvent?function(){var a=k(d);b.handleEvent.call(b,a)}:function(){var a=k(d);b.call(d,a)};d.attachEvent("on"+a,d[a+b])});var m=function(){};l.removeEventListener?m=function(d,a,b){d.removeEventListener(a,b,!1)}:l.detachEvent&&(m=function(d,a,b){d.detachEvent("on"+ a,d[a+b]);try{delete d[a+b]}catch(c){d[a+b]=void 0}});l={bind:e,unbind:m};"function"===typeof define&&define.amd?define("eventie/eventie",l):"object"===typeof exports?module.exports=l:f.eventie=l})(window); (function(f){function k(b){"function"===typeof b&&(k.isReady?b():a.push(b))}function l(a){a="readystatechange"===a.type&&"complete"!==d.readyState;k.isReady||a||e()}function e(){k.isReady=!0;for(var b=0,c=a.length;b<c;b++)(0,a[b])()}function m(a){"complete"===d.readyState?e():(a.bind(d,"DOMContentLoaded",l),a.bind(d,"readystatechange",l),a.bind(f,"load",l));return k}var d=f.document,a=[];k.isReady=!1;"function"===typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],m):"object"=== typeof exports?module.exports=m(require("eventie")):f.docReady=m(f.eventie)})(window); (function(){function f(){}function k(a,b){for(var c=a.length;c--;)if(a[c].listener===b)return c;return-1}function l(a){return function(){return this[a].apply(this,arguments)}}var e=f.prototype,m=this,d=m.EventEmitter;e.getListeners=function(a){var b=this._getEvents(),c,d;if(a instanceof RegExp)for(d in c={},b)b.hasOwnProperty(d)&&a.test(d)&&(c[d]=b[d]);else c=b[a]||(b[a]=[]);return c};e.flattenListeners=function(a){var b=[],c;for(c=0;c<a.length;c+=1)b.push(a[c].listener);return b};e.getListenersAsObject= function(a){var b=this.getListeners(a),c;b instanceof Array&&(c={},c[a]=b);return c||b};e.addListener=function(a,b){var c=this.getListenersAsObject(a),d="object"===typeof b,f;for(f in c)c.hasOwnProperty(f)&&-1===k(c[f],b)&&c[f].push(d?b:{listener:b,once:!1});return this};e.on=l("addListener");e.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})};e.once=l("addOnceListener");e.defineEvent=function(a){this.getListeners(a);return this};e.defineEvents=function(a){for(var b=0;b< a.length;b+=1)this.defineEvent(a[b]);return this};e.removeListener=function(a,b){var c=this.getListenersAsObject(a),d,f;for(f in c)c.hasOwnProperty(f)&&(d=k(c[f],b),-1!==d&&c[f].splice(d,1));return this};e.off=l("removeListener");e.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)};e.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)};e.manipulateListeners=function(a,b,c){var d,f,e=a?this.removeListener:this.addListener;a=a?this.removeListeners:this.addListeners; if("object"!==typeof b||b instanceof RegExp)for(d=c.length;d--;)e.call(this,b,c[d]);else for(d in b)b.hasOwnProperty(d)&&(f=b[d])&&("function"===typeof f?e.call(this,d,f):a.call(this,d,f));return this};e.removeEvent=function(a){var b=typeof a,c=this._getEvents(),d;if("string"===b)delete c[a];else if(a instanceof RegExp)for(d in c)c.hasOwnProperty(d)&&a.test(d)&&delete c[d];else delete this._events;return this};e.removeAllListeners=l("removeEvent");e.emitEvent=function(a,b){var c=this.getListenersAsObject(a), d,f,e,l;for(e in c)if(c.hasOwnProperty(e))for(f=c[e].length;f--;)d=c[e][f],!0===d.once&&this.removeListener(a,d.listener),l=d.listener.apply(this,b||[]),l===this._getOnceReturnValue()&&this.removeListener(a,d.listener);return this};e.trigger=l("emitEvent");e.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)};e.setOnceReturnValue=function(a){this._onceReturnValue=a;return this};e._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue: !0};e._getEvents=function(){return this._events||(this._events={})};f.noConflict=function(){m.EventEmitter=d;return f};"function"===typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return f}):"object"===typeof module&&module.exports?module.exports=f:m.EventEmitter=f}).call(window); (function(f){function k(f){if(f){if("string"===typeof e[f])return f;f=f.charAt(0).toUpperCase()+f.slice(1);for(var d,a=0,b=l.length;a<b;a++)if(d=l[a]+f,"string"===typeof e[d])return d}}var l=["Webkit","Moz","ms","Ms","O"],e=document.documentElement.style;"function"===typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return k}):"object"===typeof exports?module.exports=k:f.getStyleProperty=k})(window); (function(f,k){function l(a){var c=parseFloat(a);return-1===a.indexOf("%")&&!isNaN(c)&&c}function e(){}function m(b){function c(){if(!e){e=!0;var a=f.getComputedStyle;k=function(){var b=a?function(a){return f.getComputedStyle(a,null)}:function(a){return a.currentStyle};return function(a){(a=b(a))||d("Style returned "+a+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1");return a}}();if(m=b("boxSizing")){var c=document.createElement("div");c.style.width="200px"; c.style.padding="1px 2px 3px 4px";c.style.borderStyle="solid";c.style.borderWidth="1px 2px 3px 4px";c.style[m]="border-box";var y=document.body||document.documentElement;y.appendChild(c);var v=k(c);x=200===l(v.width);y.removeChild(c)}}}var e=!1,k,m,x;return function(b){c();"string"===typeof b&&(b=document.querySelector(b));if(b&&"object"===typeof b&&b.nodeType){var d=k(b);if("none"===d.display){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},d=0,n=a.length;d<n;d++)e[a[d]]= 0;return e}e={};e.width=b.offsetWidth;e.height=b.offsetHeight;for(var n=e.isBorderBox=!(!m||!d[m]||"border-box"!==d[m]),t=0,s=a.length;t<s;t++){var g=a[t],u=d[g];var q=b;if(!f.getComputedStyle&&-1!==u.indexOf("%")){var h=q.style,C=h.left,A=q.runtimeStyle,B=A&&A.left;B&&(A.left=q.currentStyle.left);h.left=u;u=h.pixelLeft;h.left=C;B&&(A.left=B)}q=parseFloat(u);e[g]=isNaN(q)?0:q}b=e.paddingLeft+e.paddingRight;t=e.paddingTop+e.paddingBottom;s=e.marginLeft+e.marginRight;g=e.marginTop+e.marginBottom;q= e.borderLeftWidth+e.borderRightWidth;u=e.borderTopWidth+e.borderBottomWidth;n=n&&x;h=l(d.width);!1!==h&&(e.width=h+(n?0:b+q));d=l(d.height);!1!==d&&(e.height=d+(n?0:t+u));e.innerWidth=e.width-(b+q);e.innerHeight=e.height-(t+u);e.outerWidth=e.width+s;e.outerHeight=e.height+g;return e}}}var d="undefined"===typeof console?e:function(a){console.error(a)},a="paddingLeft paddingRight paddingTop paddingBottom marginLeft marginRight marginTop marginBottom borderLeftWidth borderRightWidth borderTopWidth borderBottomWidth".split(" "); "function"===typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],m):"object"===typeof exports?module.exports=m(require("desandro-get-style-property")):f.getSize=m(f.getStyleProperty)})(window); (function(f){function k(a,c){return a[m](c)}function l(a,c){a.parentNode||document.createDocumentFragment().appendChild(a);for(var d=a.parentNode.querySelectorAll(c),e=0,f=d.length;e<f;e++)if(d[e]===a)return!0;return!1}function e(a,c){a.parentNode||document.createDocumentFragment().appendChild(a);return k(a,c)}var m=function(){if(f.matchesSelector)return"matchesSelector";for(var a=["webkit","moz","ms","o"],c=0,d=a.length;c<d;c++){var e=a[c]+"MatchesSelector";if(f[e])return e}}(),d;if(m){var a=document.createElement("div"); d=k(a,"div")?k:e}else d=l;"function"===typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return d}):"object"===typeof exports?module.exports=d:window.matchesSelector=d})(Element.prototype); (function(f){function k(d,a){for(var b in a)d[b]=a[b];return d}function l(d){return d.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function e(d,a,b){function c(a,b){a&&(this.element=a,this.layout=b,this.position={x:0,y:0},this._create())}var e=b("transition"),f=b("transform"),z=e&&f,x=!!b("perspective"),w={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[e],r=["transform","transition","transitionDuration","transitionProperty"], y=function(){for(var a={},c=0,h=r.length;c<h;c++){var d=r[c],e=b(d);e&&e!==d&&(a[d]=e)}return a}();k(c.prototype,d.prototype);c.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}};this.css({position:"absolute"})};c.prototype.handleEvent=function(a){var b="on"+a.type;if(this[b])this[b](a)};c.prototype.getSize=function(){this.size=a(this.element)};c.prototype.css=function(a){var b=this.element.style,h;for(h in a)b[y[h]||h]=a[h]};c.prototype.getPosition=function(){var a=m(this.element), b=this.layout.options,h=b.isOriginLeft,b=b.isOriginTop,c=parseInt(a[h?"left":"right"],10),a=parseInt(a[b?"top":"bottom"],10),c=isNaN(c)?0:c,a=isNaN(a)?0:a,d=this.layout.size,c=c-(h?d.paddingLeft:d.paddingRight),a=a-(b?d.paddingTop:d.paddingBottom);this.position.x=c;this.position.y=a};c.prototype.layoutPosition=function(){var a=this.layout.size,b=this.layout.options,h={};b.isOriginLeft?(h.left=this.position.x+a.paddingLeft+"px",h.right=""):(h.right=this.position.x+a.paddingRight+"px",h.left="");b.isOriginTop? (h.top=this.position.y+a.paddingTop+"px",h.bottom=""):(h.bottom=this.position.y+a.paddingBottom+"px",h.top="");this.css(h);this.emitEvent("layout",[this])};var v=x?function(a,b){return"translate3d("+a+"px, "+b+"px, 0)"}:function(a,b){return"translate("+a+"px, "+b+"px)"};c.prototype._transitionTo=function(a,b){this.getPosition();var h=this.position.x,c=this.position.y,d=parseInt(a,10),e=parseInt(b,10),d=d===this.position.x&&e===this.position.y;this.setPosition(a,b);d&&!this.isTransitioning?this.layoutPosition(): (h=a-h,c=b-c,d={},e=this.layout.options,h=e.isOriginLeft?h:-h,c=e.isOriginTop?c:-c,d.transform=v(h,c),this.transition({to:d,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0}))};c.prototype.goTo=function(a,b){this.setPosition(a,b);this.layoutPosition()};c.prototype.moveTo=z?c.prototype._transitionTo:c.prototype.goTo;c.prototype.setPosition=function(a,b){this.position.x=parseInt(a,10);this.position.y=parseInt(b,10)};c.prototype._nonTransition=function(a){this.css(a.to);a.isCleaning&&this._removeStyles(a.to); for(var b in a.onTransitionEnd)a.onTransitionEnd[b].call(this)};c.prototype._transition=function(a){if(parseFloat(this.layout.options.transitionDuration)){var b=this._transn,h;for(h in a.onTransitionEnd)b.onEnd[h]=a.onTransitionEnd[h];for(h in a.to)b.ingProperties[h]=!0,a.isCleaning&&(b.clean[h]=!0);a.from&&this.css(a.from);this.enableTransition(a.to);this.css(a.to);this.isTransitioning=!0}else this._nonTransition(a)};var t=f&&l(f)+",opacity";c.prototype.enableTransition=function(){this.isTransitioning|| (this.css({transitionProperty:t,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(w,this,!1))};c.prototype.transition=c.prototype[e?"_transition":"_nonTransition"];c.prototype.onwebkitTransitionEnd=function(a){this.ontransitionend(a)};c.prototype.onotransitionend=function(a){this.ontransitionend(a)};var s={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};c.prototype.ontransitionend=function(a){if(a.target===this.element){var b= this._transn,h=s[a.propertyName]||a.propertyName;delete b.ingProperties[h];var c;a:{c=b.ingProperties;for(var d in c){c=!1;break a}c=!0}c&&this.disableTransition();h in b.clean&&(this.element.style[a.propertyName]="",delete b.clean[h]);h in b.onEnd&&(b.onEnd[h].call(this),delete b.onEnd[h]);this.emitEvent("transitionEnd",[this])}};c.prototype.disableTransition=function(){this.removeTransitionStyles();this.element.removeEventListener(w,this,!1);this.isTransitioning=!1};c.prototype._removeStyles=function(a){var b= {},h;for(h in a)b[h]="";this.css(b)};var g={transitionProperty:"",transitionDuration:""};c.prototype.removeTransitionStyles=function(){this.css(g)};c.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element);this.emitEvent("remove",[this])};c.prototype.remove=function(){if(e&&parseFloat(this.layout.options.transitionDuration)){var a=this;this.on("transitionEnd",function(){a.removeElem();return!0});this.hide()}else this.removeElem()};c.prototype.reveal=function(){delete this.isHidden; this.css({display:""});var a=this.layout.options;this.transition({from:a.hiddenStyle,to:a.visibleStyle,isCleaning:!0})};c.prototype.hide=function(){this.isHidden=!0;this.css({display:""});var a=this.layout.options;this.transition({from:a.visibleStyle,to:a.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})};c.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})};return c}var m=f.getComputedStyle? function(d){return f.getComputedStyle(d,null)}:function(d){return d.currentStyle};"function"===typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],e):"object"===typeof exports?module.exports=e(require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property")):(f.Outlayer={},f.Outlayer.Item=e(f.EventEmitter,f.getSize,f.getStyleProperty))})(window); (function(f){function k(a,b){for(var c in b)a[c]=b[c];return a}function l(a){var b=[];if("[object Array]"===p.call(a))b=a;else if(a&&"number"===typeof a.length)for(var c=0,d=a.length;c<d;c++)b.push(a[c]);else b.push(a);return b}function e(a,b){var c=x(b,a);-1!==c&&b.splice(c,1)}function m(a){return a.replace(/(.)([A-Z])/g,function(a,b,c){return b+"-"+c}).toLowerCase()}function d(d,p,y,v,t,s){function g(h,c){"string"===typeof h&&(h=a.querySelector(h));if(h&&z(h)){this.element=h;this.options=k({},this.constructor.defaults); this.option(c);var d=++u;this.element.outlayerGUID=d;q[d]=this;this._create();this.options.isInitLayout&&this.layout()}else b&&b.error("Bad "+this.constructor.namespace+" element: "+h)}var u=0,q={};g.namespace="outlayer";g.Item=s;g.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};k(g.prototype, y.prototype);g.prototype.option=function(a){k(this.options,a)};g.prototype._create=function(){this.reloadItems();this.stamps=[];this.stamp(this.options.stamp);k(this.element.style,this.options.containerStyle);this.options.isResizeBound&&this.bindResize()};g.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)};g.prototype._itemize=function(a){a=this._filterFindItemElements(a);for(var b=this.constructor.Item,c=[],d=0,e=a.length;d<e;d++){var f=new b(a[d],this);c.push(f)}return c}; g.prototype._filterFindItemElements=function(a){a=l(a);for(var b=this.options.itemSelector,c=[],d=0,e=a.length;d<e;d++){var f=a[d];if(z(f))if(b){t(f,b)&&c.push(f);for(var f=f.querySelectorAll(b),g=0,k=f.length;g<k;g++)c.push(f[g])}else c.push(f)}return c};g.prototype.getItemElements=function(){for(var a=[],b=0,c=this.items.length;b<c;b++)a.push(this.items[b].element);return a};g.prototype.layout=function(){this._resetLayout();this._manageStamps();this.layoutItems(this.items,void 0!==this.options.isLayoutInstant? this.options.isLayoutInstant:!this._isLayoutInited);this._isLayoutInited=!0};g.prototype._init=g.prototype.layout;g.prototype._resetLayout=function(){this.getSize()};g.prototype.getSize=function(){this.size=v(this.element)};g.prototype._getMeasurement=function(a,b){var c=this.options[a],d;c?("string"===typeof c?d=this.element.querySelector(c):z(c)&&(d=c),this[a]=d?v(d)[b]:c):this[a]=0};g.prototype.layoutItems=function(a,b){a=this._getItemsForLayout(a);this._layoutItems(a,b);this._postLayout()};g.prototype._getItemsForLayout= function(a){for(var b=[],c=0,d=a.length;c<d;c++){var e=a[c];e.isIgnored||b.push(e)}return b};g.prototype._layoutItems=function(a,b){function c(){d.emitEvent("layoutComplete",[d,a])}var d=this;if(a&&a.length){this._itemsOn(a,"layout",c);for(var e=[],f=0,g=a.length;f<g;f++){var k=a[f],l=this._getItemLayoutPosition(k);l.item=k;l.isInstant=b||k.isLayoutInstant;e.push(l)}this._processLayoutQueue(e)}else c()};g.prototype._getItemLayoutPosition=function(){return{x:0,y:0}};g.prototype._processLayoutQueue= function(a){for(var b=0,c=a.length;b<c;b++){var d=a[b];this._positionItem(d.item,d.x,d.y,d.isInstant)}};g.prototype._positionItem=function(a,b,c,d){d?a.goTo(b,c):a.moveTo(b,c)};g.prototype._postLayout=function(){this.resizeContainer()};g.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var a=this._getContainerSize();a&&(this._setContainerMeasure(a.width,!0),this._setContainerMeasure(a.height,!1))}};g.prototype._getContainerSize=n;g.prototype._setContainerMeasure=function(a, b){if(void 0!==a){var c=this.size;c.isBorderBox&&(a+=b?c.paddingLeft+c.paddingRight+c.borderLeftWidth+c.borderRightWidth:c.paddingBottom+c.paddingTop+c.borderTopWidth+c.borderBottomWidth);a=Math.max(a,0);this.element.style[b?"width":"height"]=a+"px"}};g.prototype._itemsOn=function(a,b,c){function d(){e++;e===f&&c.call(g);return!0}for(var e=0,f=a.length,g=this,k=0,l=a.length;k<l;k++)a[k].on(b,d)};g.prototype.ignore=function(a){if(a=this.getItem(a))a.isIgnored=!0};g.prototype.unignore=function(a){(a= this.getItem(a))&&delete a.isIgnored};g.prototype.stamp=function(a){if(a=this._find(a)){this.stamps=this.stamps.concat(a);for(var b=0,c=a.length;b<c;b++)this.ignore(a[b])}};g.prototype.unstamp=function(a){if(a=this._find(a))for(var b=0,c=a.length;b<c;b++){var d=a[b];e(d,this.stamps);this.unignore(d)}};g.prototype._find=function(a){if(a)return"string"===typeof a&&(a=this.element.querySelectorAll(a)),a=l(a)};g.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect(); for(var a=0,b=this.stamps.length;a<b;a++)this._manageStamp(this.stamps[a])}};g.prototype._getBoundingRect=function(){var a=this.element.getBoundingClientRect(),b=this.size;this._boundingRect={left:a.left+b.paddingLeft+b.borderLeftWidth,top:a.top+b.paddingTop+b.borderTopWidth,right:a.right-(b.paddingRight+b.borderRightWidth),bottom:a.bottom-(b.paddingBottom+b.borderBottomWidth)}};g.prototype._manageStamp=n;g.prototype._getElementOffset=function(a){var b=a.getBoundingClientRect(),c=this._boundingRect; a=v(a);return{left:b.left-c.left-a.marginLeft,top:b.top-c.top-a.marginTop,right:c.right-b.right-a.marginRight,bottom:c.bottom-b.bottom-a.marginBottom}};g.prototype.handleEvent=function(a){var b="on"+a.type;if(this[b])this[b](a)};g.prototype.bindResize=function(){this.isResizeBound||(d.bind(f,"resize",this),this.isResizeBound=!0)};g.prototype.unbindResize=function(){this.isResizeBound&&d.unbind(f,"resize",this);this.isResizeBound=!1};g.prototype.onresize=function(){this.resizeTimeout&&clearTimeout(this.resizeTimeout); var a=this;this.resizeTimeout=setTimeout(function(){a.resize();delete a.resizeTimeout},100)};g.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()};g.prototype.needsResizeLayout=function(){var a=v(this.element);return this.size&&a&&a.innerWidth!==this.size.innerWidth};g.prototype.addItems=function(a){a=this._itemize(a);a.length&&(this.items=this.items.concat(a));return a};g.prototype.appended=function(a){a=this.addItems(a);a.length&&(this.layoutItems(a,!0),this.reveal(a))}; g.prototype.prepended=function(a){a=this._itemize(a);if(a.length){var b=this.items.slice(0);this.items=a.concat(b);this._resetLayout();this._manageStamps();this.layoutItems(a,!0);this.reveal(a);this.layoutItems(b)}};g.prototype.reveal=function(a){var b=a&&a.length;if(b)for(var c=0;c<b;c++)a[c].reveal()};g.prototype.hide=function(a){var b=a&&a.length;if(b)for(var c=0;c<b;c++)a[c].hide()};g.prototype.getItem=function(a){for(var b=0,c=this.items.length;b<c;b++){var d=this.items[b];if(d.element===a)return d}}; g.prototype.getItems=function(a){if(a&&a.length){for(var b=[],c=0,d=a.length;c<d;c++){var e=this.getItem(a[c]);e&&b.push(e)}return b}};g.prototype.remove=function(a){a=l(a);var b=this.getItems(a);if(b&&b.length){this._itemsOn(b,"remove",function(){this.emitEvent("removeComplete",[this,b])});a=0;for(var c=b.length;a<c;a++){var d=b[a];d.remove();e(d,this.items)}}};g.prototype.destroy=function(){var a=this.element.style;a.height="";a.position="";a.width="";for(var a=0,b=this.items.length;a<b;a++)this.items[a].destroy(); this.unbindResize();delete q[this.element.outlayerGUID];delete this.element.outlayerGUID;c&&c.removeData(this.element,this.constructor.namespace)};g.data=function(a){return(a=a&&a.outlayerGUID)&&q[a]};g.create=function(d,e){function f(){g.apply(this,arguments)}Object.create?f.prototype=Object.create(g.prototype):k(f.prototype,g.prototype);f.prototype.constructor=f;f.defaults=k({},g.defaults);k(f.defaults,e);f.prototype.settings={};f.namespace=d;f.data=g.data;f.Item=function(){s.apply(this,arguments)}; f.Item.prototype=new s;p(function(){for(var e=m(d),g=a.querySelectorAll(".js-"+e),e="data-"+e+"-options",k=0,l=g.length;k<l;k++){var n=g[k],p=n.getAttribute(e),w;try{w=p&&JSON.parse(p)}catch(r){b&&b.error("Error parsing "+e+" on "+n.nodeName.toLowerCase()+(n.id?"#"+n.id:"")+": "+r);continue}p=new f(n,w);c&&c.data(n,d,p)}});c&&c.bridget&&c.bridget(d,f);return f};g.Item=s;return g}var a=f.document,b=f.console,c=f.jQuery,n=function(){},p=Object.prototype.toString,z="function"===typeof HTMLElement||"object"=== typeof HTMLElement?function(a){return a instanceof HTMLElement}:function(a){return a&&"object"===typeof a&&1===a.nodeType&&"string"===typeof a.nodeName},x=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1};"function"===typeof define&&define.amd?define("outlayer/outlayer","eventie/eventie doc-ready/doc-ready eventEmitter/EventEmitter get-size/get-size matches-selector/matches-selector ./item".split(" "),d):"object"=== typeof exports?module.exports=d(require("eventie"),require("doc-ready"),require("wolfy87-eventemitter"),require("get-size"),require("desandro-matches-selector"),require("./item")):f.Outlayer=d(f.eventie,f.docReady,f.EventEmitter,f.getSize,f.matchesSelector,f.Outlayer.Item)})(window); (function(f){function k(e,f){var d=e.create("masonry");d.prototype._resetLayout=function(){this.getSize();this._getMeasurement("columnWidth","outerWidth");this._getMeasurement("gutter","outerWidth");this.measureColumns();var a=this.cols;for(this.colYs=[];a--;)this.colYs.push(0);this.maxY=0};d.prototype.measureColumns=function(){this.getContainerWidth();if(!this.columnWidth){var a=this.items[0];this.columnWidth=(a=a&&a.element)&&f(a).outerWidth||this.containerWidth}this.columnWidth+=this.gutter;this.cols= Math.floor((this.containerWidth+this.gutter)/this.columnWidth);this.cols=Math.max(this.cols,1)};d.prototype.getContainerWidth=function(){var a=f(this.options.isFitWidth?this.element.parentNode:this.element);this.containerWidth=a&&a.innerWidth};d.prototype._getItemLayoutPosition=function(a){a.getSize();var b=a.size.outerWidth%this.columnWidth,b=Math[b&&1>b?"round":"ceil"](a.size.outerWidth/this.columnWidth),b=Math.min(b,this.cols),c=this._getColGroup(b),d=Math.min.apply(Math,c),b=l(c,d),e={x:this.columnWidth* b,y:d};a=d+a.size.outerHeight;c=this.cols+1-c.length;for(d=0;d<c;d++)this.colYs[b+d]=a;return e};d.prototype._getColGroup=function(a){if(2>a)return this.colYs;for(var b=[],c=this.cols+1-a,d=0;d<c;d++){var e=this.colYs.slice(d,d+a);b[d]=Math.max.apply(Math,e)}return b};d.prototype._manageStamp=function(a){var b=f(a),c=this._getElementOffset(a);a=this.options.isOriginLeft?c.left:c.right;var d=a+b.outerWidth,e=Math.floor(a/this.columnWidth),e=Math.max(0,e);a=Math.floor(d/this.columnWidth);a-=d%this.columnWidth? 0:1;a=Math.min(this.cols-1,a);b=(this.options.isOriginTop?c.top:c.bottom)+b.outerHeight;for(c=e;c<=a;c++)this.colYs[c]=Math.max(b,this.colYs[c])};d.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var a={height:this.maxY};this.options.isFitWidth&&(a.width=this._getContainerFitWidth());return a};d.prototype._getContainerFitWidth=function(){for(var a=0,b=this.cols;--b&&0===this.colYs[b];)a++;return(this.cols-a)*this.columnWidth-this.gutter};d.prototype.needsResizeLayout= function(){var a=this.containerWidth;this.getContainerWidth();return a!==this.containerWidth};return d}var l=Array.prototype.indexOf?function(e,f){return e.indexOf(f)}:function(e,f){for(var d=0,a=e.length;d<a;d++)if(e[d]===f)return d;return-1};"function"===typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],k):"object"===typeof exports?module.exports=k(require("outlayer"),require("get-size")):f.Masonry=k(f.Outlayer,f.getSize)})(window);